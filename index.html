<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🐙 蛸音ポチ</title>
<link rel="stylesheet" href="/style.css">
</head>
<body>
<div class="window">
  <div class="title-bar">🐙 蛸音ポチ Official Site</div>
  <div class="content">
    <div class="sidebar">
      <button onclick="loadPage('about.html')">About</button>
      <button onclick="loadPage('voice.html')">Voice Info</button>
      <button onclick="loadPage('gallery.html')">Gallery</button>
      <button onclick="loadPage('download.html')">Download</button>
    </div>
    <iframe id="mainframe" src="about.html"></iframe>
  </div>
  <footer>© 2025 Takone Pochi | 🦑 Retro-cute vibes</footer>
</div>

<script>
const mainFrame = document.getElementById("mainframe");
const titlePrefix = "🐙 蛸音ポチ - ";

function loadPage(url) {
    mainFrame.src = url;
    document.title = titlePrefix + url.replace(".html","");
    history.pushState({page: url}, "", "?" + "page=" + url);
}

window.addEventListener("DOMContentLoaded", () => {
    // Check URL param to load page
    const params = new URLSearchParams(window.location.search);
    const page = params.get("page");
    if (page) {
        mainFrame.src = page;
        document.title = titlePrefix + page.replace(".html","");
    }
});

window.addEventListener("popstate", (e) => {
    if (e.state && e.state.page) {
        mainFrame.src = e.state.page;
        document.title = titlePrefix + e.state.page.replace(".html","");
    }
});
</script>
</body>
</html>
